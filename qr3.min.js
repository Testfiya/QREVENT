// @ts-nocheck
const QRCode=require("easyqrcodejs-nodejs"),fs=require("fs"),path=require("path"),csv=require("csv-parser"),csvToJson=require("convert-csv-to-json"),{name:name}=require("ejs"),{spawn:spawn}=require("child_process"),{version:version}=require("os");let date=new Date,folderName=`${date.toISOString().slice(0,19)}`;function fetchCSV(e){var r=fs.readFileSync(e).toString().split("\n").map((e=>e.trim())).filter((e=>e.length>0)).map((e=>e.split(",").map((e=>e.trim())))).filter((e=>e.some((e=>""!==e))));return r=r.slice(1)}function createQR(e,r,t="#000000"){var i={text:`${e}-${r}`,width:500,height:500,correctLevel:QRCode.CorrectLevel.H,quietZone:45,quietZoneColor:"rgb(255, 255, 255)",title:`\n${e}`,titleFont:"normal bold 40px Arial",titleHeight:90,titleTop:25,compressionLevel:.7,quality:1,colorDark:t,PO:"#000000",PI:"#000000",AO:"#000000",AI:"#000000",version:4};new QRCode(i).saveImage({path:folderName+`/${e}.png`})}function createQRs(e,r){for(let t=0;t<e.length;t++){createQR(e[t][0],e[t][1],r)}}async function main(){const e=fetchCSV(process.argv[2]),r=String(process.argv[3]);fs.existsSync(folderName)||fs.mkdirSync(folderName),"undefined"==r?createQRs(e):createQRs(e,r)}main();